From 0040842024725c0e74f84c1719ead6c79ba94aba Mon Sep 17 00:00:00 2001
From: Martin Jansa <Martin.Jansa@gmail.com>
Date: Wed, 16 May 2012 20:03:34 +0200
Subject: [PATCH] configure: add option to disable libelf support

Upstream-Status: Pending

Signed-off-by: Martin Jansa <Martin.Jansa@gmail.com>
---
 configure.ac |    4 ++++
 1 files changed, 4 insertions(+), 0 deletions(-)

diff --git a/configure.ac b/configure.ac
index aa65648..1bb49bf 100644
--- a/configure.ac
+++ b/configure.ac
@@ -1815,6 +1815,9 @@ AC_SUBST(XATTR_LIBS)
 dnl ************************
 dnl *** check for libelf ***
 dnl ************************
+AC_ARG_ENABLE(libelf,
+              AC_HELP_STRING([--disable-libelf], [build without libelf support]))
+if test "x$enable_libelf" != "xno"; then
 
 PKG_CHECK_MODULES([LIBELF], [libelf], [have_libelf=yes], [have_libelf=maybe])
 
@@ -1835,6 +1838,7 @@ fi
 if test $have_libelf = yes; then
   AC_DEFINE(HAVE_LIBELF, 1, [Define if libelf is available])
 fi
+fi
 
 dnl ****************************************
 dnl *** platform dependent source checks ***
-- 
1.7.8.6

